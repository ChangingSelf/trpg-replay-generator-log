{
  "name": "trpg-replay-generator-log",
	"displayName": "TRPG Replay Generator Log",
	"description": "Syntax highlighting and code snippets for TRPG-Replay-Generator-Log language",
	"version": "1.4.0",
	"engines": {
		"vscode": "^1.67.0"
	},
	"publisher": "yxChangingSelf",
	"repository": {"url": "https://gitee.com/ChangingSelf/trpg-replay-generator-log"},
	"categories": [
		"Programming Languages","Themes","Snippets"
	],
	"icon": "images/icon.png",
	"activationEvents": [
		"onLanguage:rgl"
		,"onCommand:trpg-replay-generator-log.openDocument"
		,"onCommand:trpg-replay-generator-log.count"
		,"onCommand:trpg-replay-generator-log.checkDialogLineLength"
		,"onCommand:trpg-replay-generator-log.defineMedia"
		,"onCommand:trpg-replay-generator-log.defineCharacter"
		,"onCommand:trpg-replay-generator-log.replaceAngleBrackets"
		,"onCommand:trpg-replay-generator-log.addAsteriskMarks"
		,"onCommand:trpg-replay-generator-log.addSoundEffectsInBatches"
		,"onCommand:trpg-replay-generator-log.adjustSoundEffectsTimeInBatches"
		,"onCommand:trpg-replay-generator-log.playVideo"
		,"onCommand:trpg-replay-generator-log.exportVideo"
		,"onCommand:trpg-replay-generator-log.synthesizedSpeech"
		,"onCommand:trpg-replay-generator-log.exportXML"
		,"onCommand:trpg-replay-generator-log.openMediaView"
	],
	"main": "./dist/extension.js",
	"contributes": {
		"commands": [
			{
				"command": "trpg-replay-generator-log.count",
				"title": "TRGL: Count"
			}
			,{
				"command": "trpg-replay-generator-log.openDocument",
				"title": "TRGL: Open Document"
			}
			,{
				"command": "trpg-replay-generator-log.checkDialogLineLength",
				"title": "TRGL: Check Dialog Line Length"
			}
			,{
				"command": "trpg-replay-generator-log.defineMedia",
				"title": "TRGL: Define Media"
			}
			,{
				"command": "trpg-replay-generator-log.defineCharacter",
				"title": "TRGL: Define Character"
			}
			,{
				"command": "trpg-replay-generator-log.replaceAngleBrackets",
				"title": "TRGL: Replace Angle Brackets"
			}
			,{
				"command": "trpg-replay-generator-log.addAsteriskMarks",
				"title": "TRGL: Add Asterisk Marks"
			}
			,{
				"command": "trpg-replay-generator-log.addSoundEffectsInBatches",
				"title": "TRGL: Add Sound Effects In Batches"
			}
			,{
				"command": "trpg-replay-generator-log.adjustSoundEffectsTimeInBatches",
				"title": "TRGL: Adjust Sound Effects Time In Batches"
			}
			,{
				"command": "trpg-replay-generator-log.playVideo",
				"title": "TRGL: Play Video"
			}
			,{
				"command": "trpg-replay-generator-log.exportVideo",
				"title": "TRGL: Export Video"
			}
			,{
				"command": "trpg-replay-generator-log.synthesizedSpeech",
				"title": "TRGL: Synthesized Speech"
			}
			,{
				"command": "trpg-replay-generator-log.exportXML",
				"title": "TRGL: Export XML"
			}
			,{
				"command": "trpg-replay-generator-log.openMediaView",
				"title": "TRGL: Open Media View"
			}
			]
			,"languages": [{
				"id": "rgl",
				"aliases": ["rgl", "rgl"],
				"extensions": [".rgl"],
				"configuration": "./language-configuration.json"
			}]
			,"grammars": [{
				"language": "rgl",
				"scopeName": "source.rgl",
				"path": "./syntaxes/rgl.tmLanguage.json"
			}]
			,"themes": [
				{
					"label": "rgl theme",
					"uiTheme": "vs-dark",
					"path": "./themes/rgl-theme-color-theme.json"
				}
				,{
					"label": "rgl light theme",
					"uiTheme": "vs",
					"path": "./themes/rgl-light-theme-color-theme.json"
				}
			]
			,"snippets": [
				{
					"language": "rgl",
					"path": "./snippets.json"
				}
			]
			,"configuration": [{
				"order": 0,
				"title": "文件路径",
				"properties": {
					"trpg-replay-generator-log.path.RplGenCorePath": {
						"order": 0,
						"type": "string",
						"default": "",
						"description": "回声工坊的RplGenCore.exe文件所在路径（包含文件名），例如：D:/TRPG-Replay-Generator/RplGenCore.exe"
					}
					,"trpg-replay-generator-log.path.MediaObjDefineFilePath": {
						"order": 1,
						"type": "string",
						"default": "",
						"description": "媒体定义文件所在路径（包含文件名），例如：F:/TRPG-Replay-Project/ModName/media.txt"
					}
					,"trpg-replay-generator-log.path.CharacterTableFilePath": {
						"order": 2,
						"type": "string",
						"default": "",
						"description": "角色配置文件所在路径（包含文件名），例如：F:/TRPG-Replay-Project/ModName/characterTable.tsv"
					}
					,"trpg-replay-generator-log.path.LogFilePath": {
						"order": 3,
						"type": "string",
						"default": "",
						"description": "跑团日志文件所在路径（包含文件名），例如：F:/TRPG-Replay-Project/ModName/log.rgl"
					}
					,"trpg-replay-generator-log.path.OutputPath": {
						"order": 4,
						"type": "string",
						"default": "",
						"description": "输出路径，例如：F:/TRPG-Replay-Project/ModName/output/"
					}
					,"trpg-replay-generator-log.path.TimeLine": {
						"order": 5,
						"type": "string",
						"default": "",
						"description": "timeline文件的路径，timeline文件是由主程序生成在输出路径的工程文件；"
					}
				}
			}
			,{
				"order": 1,
				"title": "视频选项",
				"properties": {
					"trpg-replay-generator-log.video.FramePerSecond": {
						"order": 2,
						"type": "number",
						"default": 30,
						"description": "播放的帧率，单位是fps；默认值是30fps"
					}
					,"trpg-replay-generator-log.video.WindowWidth": {
						"order": 0,
						"type": "number",
						"default": 1920,
						"description": "窗体的宽，默认值是1920"
					}
					,"trpg-replay-generator-log.video.WindowHeight": {
						"order": 1,
						"type": "number",
						"default": 1080,
						"description": "窗体的高，默认值是1080"
					}
					,"trpg-replay-generator-log.video.Zorder": {
						"order": 3,
						"type": "string",
						"default": "BG3,BG2,BG1,Am3,Am2,Am1,Bb",
						"markdownDescription": "修改图层顺序参数，可以改变各个图层的重叠关系。默认的图层顺序为`-Z 'BG3,BG2,BG1,Am3,Am2,Am1,Bb'`，顺序为从下到上，即*背景*在最下层，*气泡*在最上层，*立绘*在中间，其中主立绘在其他立绘上层。主要的修改需求可能是要求立绘覆盖在气泡的上层，因此，可以将 *--Zorder* 参数设置为 `'-Z BG3,BG2,BG1,Bb,Am3,Am2,Am1'`"
					}
					,"trpg-replay-generator-log.video.Quality": {
						"order": 4,
						"type": "number",
						"default": 24,
						"description": "导出为mp4视频时的质量，即ffmpeg程序的crf值；取值范围为0-51，越小对应越高的视频质量，通常合理范围为18-28；默认值是24"
					}
				}
			}
			,{
				"order": 2,
				"title": "语音Key",
				"properties": {
					"trpg-replay-generator-log.key.aliyun.AccessKey": {
						"order": 1,
						"type": "string",
						"default": "your_AccessKey",
						"description": "阿里云账号的AccessKey ID，使用阿里云音源执行语音合成时所需要的"
					}
					,"trpg-replay-generator-log.key.aliyun.AccessKeySecret": {
						"order": 2,
						"type": "string",
						"default": "your_AccessKeySecret",
						"description": "阿里云账号的AccessKeySecret 密钥，使用阿里云音源执行语音合成时所需要的"
					}
					,"trpg-replay-generator-log.key.aliyun.Appkey": {
						"order": 0,
						"type": "string",
						"default": "your_Appkey",
						"description": "阿里云语音合成应用的Appkey，使用阿里云音源执行语音合成时所需要的"
					}
					,"trpg-replay-generator-log.key.Azure.Azurekey": {
						"order": 3,
						"type": "string",
						"default": "your_Azurekey",
						"description": "微软Azure认知语音服务的Key，使用Azure音源执行语音合成时所需要的"
					}
					,"trpg-replay-generator-log.key.Azure.ServRegion": {
						"order": 4,
						"type": "string",
						"default": "eastasia",
						"description": "微软Azure认知语音服务的服务地区，使用Azure音源执行语音合成时所需要的；默认是东亚地区"
					}
				}
			}
			,{
				"order": 3,
				"title": "标志",
				"properties": {
					"trpg-replay-generator-log.flag.FixScreenZoom": {
						"order": 0,
						"type": "boolean",
						"default": true,
						"description": "取消系统缩放。仅在windows系统上生效。使用该标志以消除由于windows系统缩放倍率，而导致的窗体尺寸异常。"
					}
					,"trpg-replay-generator-log.flag.SynthesisAnyway": {
						"order": 1,
						"type": "boolean",
						"default": false,
						"description": "先执行语音合成。若勾选了该选项，则会在播放视频或导出之前先进行语音合成"
					}
					,"trpg-replay-generator-log.flag.ExportXML": {
						"order": 2,
						"type": "boolean",
						"default": false,
						"description": "导出XML。若勾选了该选项，则执行导出视频命令不导出视频，而是会导出为可以导入PR的XML"
					}
				}
			}
			,{
				"order": 4,
				"title": "悬停提示",
				"properties": {
					"trpg-replay-generator-log.hover.Enable": {
						"order": 0,
						"type": "boolean",
						"default": true,
						"description": "悬停提示总开关。关闭后其他悬停提示设置不再启用"
					}
					,"trpg-replay-generator-log.hover.EnableDialogLine": {
						"order": 1,
						"type": "boolean",
						"default": true,
						"description": "对话行悬停提示的开关。"
					}
					,"trpg-replay-generator-log.hover.EnableConfigLine": {
						"order": 2,
						"type": "boolean",
						"default": true,
						"description": "设置行悬停提示的开关。"
					}
					,"trpg-replay-generator-log.hover.EnableBackgroundLine": {
						"order": 3,
						"type": "boolean",
						"default": true,
						"description": "背景行悬停提示的开关。"
					}
					,"trpg-replay-generator-log.hover.EnableAnimationLine": {
						"order": 4,
						"type": "boolean",
						"default": true,
						"description": "动画行悬停提示的开关。"
					}
				}
			}
		]
			
	},
	"scripts": {
		"vscode:prepublish": "npm run package",
		"compile": "webpack",
		"watch": "webpack --watch",
		"package": "webpack --mode production --devtool hidden-source-map",
		"compile-tests": "tsc -p . --outDir out",
		"watch-tests": "tsc -p . -w --outDir out",
		"pretest": "npm run compile-tests && npm run compile && npm run lint",
		"lint": "eslint src --ext ts",
		"test": "node ./out/test/runTest.js"
	},
	"devDependencies": {
		"@types/vscode": "^1.67.0",
		"@types/glob": "^7.2.0",
		"@types/mocha": "^9.1.1",
		"@types/node": "16.x",
		"@typescript-eslint/eslint-plugin": "^5.27.0",
		"@typescript-eslint/parser": "^5.27.0",
		"eslint": "^8.16.0",
		"glob": "^8.0.3",
		"mocha": "^10.0.0",
		"typescript": "^4.7.2",
		"ts-loader": "^9.3.0",
		"webpack": "^5.72.1",
		"webpack-cli": "^4.9.2",
		"@vscode/test-electron": "^2.1.3"
	}
}
